#:import NoTransition kivy.uix.screenmanager.NoTransition
#:set red [255, 0.5, 0.5, 1]
#:set green [0.5, 255, 0.5, 1]
#:set default [1, 1, 1, 0.95]

<Label>
    size_hint: 0.1,0.1
    font_size:17
    color: 0,0,0,1
<Button>
    size_hint:0.26,0.1
    background_color: default
    font_size:30

ScreenManager:
    transition: NoTransition()
    id: screen_manager


    MainPage:
        name: 'mainpage'
        id: main

        # Mainpage IDs
        box: box
        portt: portt
        status: status
        status2: status2

        # Controlpage IDs
        onf: onf
        bir: bir
        iki: iki

        canvas.before:
            Color:
                rgba: (1, 1, 1, 1)
            Rectangle:
                pos:self.pos
                size:self.size

        FloatLayout:
            Label:
                text: "IP:"
                font_size: 24
                pos_hint: {"x": 0.165, "y": 0.8}
            TextInput:
                id: box
                font_size: 24
                text: ""
                multiline: False
                size_hint: 0.5,0.1
                pos_hint: {"x": 0.265, "y": 0.8}
            TextInput:
                id: portt
                font_size: 24
                text: ""
                multiline: False
                size_hint: 0.5,0.1
                pos_hint: {"x": 0.265, "y": 0.7}
            Button:
                text:"Enter"
                size_hint: 0.1,0.1
                pos_hint: {"x": 0.785, "y": 0.75}
                on_release:
                    # app.root.current = 'controlpage'
                    main.tcp()

            Image:
                id: status
                source: "cross.png"
                size_hint: 0.1,0.1
                pos_hint: {"x": 0.885, "y": 0.75}

            Button:
                text:"Offline"
                size_hint: 0.2,0.1
                pos_hint: {"x": 0.385, "y": 0.4}
                on_release:
                    app.root.current = 'controlpage'

#############################################################################

    ControlPage:
        name: 'controlpage'
        id: control
        status2: status2

        canvas.before:
            Color:
                rgba: (1, 1, 1, 1)
            Rectangle:
                pos:self.pos
                size:self.size

        FloatLayout:
            Button:
                text:" Master\nON/OFF" # tüm on/off ları aynı anda açıp kapatıyor.
                size_hint: 0.25,0.333
                pos_hint: {"x": 0, "y": 0.666}
                on_release:
                    app.root.current = 'controlpage'
            Image:
                id: status2
                source: "cross.png"
                size_hint: 0.1,0.1
                pos_hint: {"x": 0, "y": 0.333}
            Button:
                text:" "
                size_hint: 0.25,0.333
                pos_hint: {"x": 0, "y": 0}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"ON/OFF"
                id: onf
                background_color: red
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.25, "y": 0.8325}
                on_release:
                    if self.background_color == red: control.send("a")
                    elif self.background_color == green: control.send("A")
                    print("1.")

            Button:
                text:"1,5A"
                id: bir
                background_color: red
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.375, "y": 0.8325}
                on_release:
                    if self.background_color == red: control.send("b")
                    elif self.background_color == green: control.send("B")
                    print("2.")
            Button:
                text:"3A"
                id: iki
                background_color: red
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.5, "y": 0.8325}
                on_release:
                    if self.background_color == red: control.send("c")
                    elif self.background_color == green: control.send("C")
                    print("3.")
            Button:
                text:"6A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.625, "y": 0.8325}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"9A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.75, "y": 0.8325}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"12A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.875, "y": 0.8325}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"32A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.25, "y": 0.666}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"4A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.375, "y": 0.666}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"8A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.5, "y": 0.666}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"15A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.625, "y": 0.666}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"22A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.75, "y": 0.666}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"42A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.875, "y": 0.666}
                on_release:
                    app.root.current = 'controlpage'


            Button:
                text:"ON/OFF"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.25, "y": 0.4995}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"1,5A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.375, "y": 0.4995}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"3A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.5, "y": 0.4995}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"6A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.625, "y": 0.4995}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"9A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.75, "y": 0.4995}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"12A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.875, "y": 0.4995}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"32A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.25, "y": 0.333}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"4A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.375, "y": 0.333}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"8A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.5, "y": 0.333}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"15A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.625, "y": 0.333}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"22A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.75, "y": 0.333}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"42A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.875, "y": 0.333}
                on_release:
                    app.root.current = 'controlpage'


            Button:
                text:"ON/OFF"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.25, "y": 0.1665}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"1,5A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.375, "y": 0.1665}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"3A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.5, "y": 0.1665}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"6A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.625, "y": 0.1665}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"9A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.75, "y": 0.1665}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"12A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.875, "y": 0.1665}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"32A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.25, "y": 0}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"4A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.375, "y": 0}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"8A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.5, "y": 0}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"15A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.625, "y": 0}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"22A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.75, "y": 0}
                on_release:
                    app.root.current = 'controlpage'
            Button:
                text:"42A"
                size_hint: 0.125,0.1665
                pos_hint: {"x": 0.875, "y": 0}
                on_release:
                    app.root.current = 'controlpage'